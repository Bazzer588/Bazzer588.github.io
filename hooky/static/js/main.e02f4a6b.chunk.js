(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e){e.exports={GB:"United Kingdom",CA:"Canada",US:"United States",CN:"China",BW:"Botswana"}},48:function(e){e.exports={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NS:"Nova Scotia",NT:"Northwest Territories",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Qu\xe9bec",SK:"Saskatchewan",YT:"Yukon"}},49:function(e){e.exports={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"}},52:function(e,t,a){e.exports=a(92)},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);a(53);var n=a(0),r=a.n(n),o=a(45),l=a.n(o),c=(a(90),a(50)),u=a(3),i=a(8),s=a(46),d=a.n(s),p=(a(91),a(51));var m=r.a.memo(function(e){var t=e.name,a=e.value,n=void 0===a?"":a,o=e.path,l=e.options,c=e.dispatch,u=Object(p.a)(e,["name","value","path","options","dispatch"]),i=o+"-"+t;function s(e){c({type:"SET",key:t,value:e.target.value})}return l?r.a.createElement("select",Object.assign({id:i},u,{onChange:s,value:n}),r.a.createElement("option",{value:""}),function(e){return Object.keys(e).map(function(t){return r.a.createElement("option",{key:t,value:t},e[t])})}(l)):r.a.createElement("input",Object.assign({id:i,type:"text"},u,{onChange:s,value:n}))}),E=a(19),y="SET";function v(e,t,a,o){var l=r.a.useRef(null),c=function(n){var r=e(t,n);r!==t&&b(o,a,r)};return Object(n.useLayoutEffect)(function(){l.current=c},[t,a]),Object(n.useCallback)(function(){return l.current.apply(l,arguments)},[l])}function b(e,t,a){e({type:y,key:t,value:a})}var f=a(47),k=a(48),h={US:a(49),CA:k},A={GB:"Post code",CN:"\u90ae\u653f\u7f16\u7801"},C=f,N=function(e,t){if("SET"===t.type){var a=Object(i.a)({},e,Object(u.a)({},t.key,t.value));return"country"===t.key&&(a.province=a.address=a.zip="","GB"===t.value&&(a.province="Somerset")),a}};var S=r.a.memo(function(e){var t=e.name,a=e.value,n=void 0===a?{}:a,o=e.dispatch,l=v(N,n,t,o);function c(e,a,o){return r.a.createElement("tr",null,r.a.createElement("th",null,a),r.a.createElement("td",null,r.a.createElement(m,{name:e,path:t,value:n[e],options:o,dispatch:l})))}console.log("RAD",n.addressKey,n.country);var u=n.country;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,t)),r.a.createElement("table",{className:"Address"},r.a.createElement("tbody",null,c("country","Country",C),c("province","State / Province",h[u]),c("address","Address"),c("zip",A[u]||"Zip Code"))))}),g=function(e,t){var a=Object(E.a)(e);switch(t.type){case"DELETE":a.splice(t.key,1),console.log("DELETE",t.key,R(e));break;case"INSERT":a.splice(t.key,0,t.value),console.log("INSERT",R(a));break;case"UP":var n=t.key;if(n<1)return e;var r=a[n];a[n]=a[n-1],a[n-1]=r;break;case"DOWN":var o=t.key;if(o>=e.length-1)return e;var l=a[o];a[o]=a[o+1],a[o+1]=l;break;case"REVERSE":a.reverse(),console.log("REVERSED",R(a));break;default:return function(e,t){if(t.type===y){if(e[t.key]===t.value)return e;if(Array.isArray(e)){var a=Object(E.a)(e);return a[t.key]=t.value,a}return Object(i.a)({},e,Object(u.a)({},t.key,t.value))}return e}(e,t)}return a};var w=r.a.memo(function(e){var t=e.name,a=e.value,n=void 0===a?[]:a,o=e.dispatch,l=e.Compo;console.log("RENDER LIST",t,R(n));var c=v(g,n,t,o),u=n.map(function(e,a){return r.a.createElement("div",{key:t+"."+a,"data-xkey":e.addressKey,style:{position:"relative"}},r.a.createElement("span",{className:"top-right"},r.a.createElement("button",{onClick:function(){return c({type:"UP",key:a})},type:"button"},"Up")," ",r.a.createElement("button",{onClick:function(){return c({type:"DOWN",key:a})},type:"button"},"Down")," ",r.a.createElement("button",{onClick:function(){return c({type:"DELETE",key:a})},type:"button"},"Delete")),r.a.createElement(l,{name:a,value:e,dispatch:c}))});return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,t)),u,r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return c({type:"SET",key:n.length,value:{addressKey:"K"+O++}})},type:"button"},"Add another address")," ",n.length>1&&r.a.createElement("button",{onClick:function(){return c({type:"REVERSE"})},type:"button"},"Reverse list")," ",n.length>0&&r.a.createElement("button",{onClick:function(){return c({type:"INSERT",key:0,value:{addressKey:"K"+O++}})},type:"button"},"Insert")))}),O=1;function R(e){return"["+e.map(function(e){return e.addressKey}).join(",")+"]"}function M(e,t){var a;switch(console.log("APP REDUCER",t.type,t.key),t.type){case"SET":a=Object(i.a)({},e,Object(u.a)({},t.key,t.value));break;case"CLEAR":a={};break;default:a=e}return window.lastState=a,a}window.lastState||(window.lastState={homeAddress:{country:"US",province:"WY"},previousAddresses:[{addressKey:"X",country:"CA",province:"BC"}]});var T=r.a.memo(function(){var e=Object(n.useReducer)(M,window.lastState),t=Object(c.a)(e,2),a=t[0],o=t[1];function l(e){return r.a.createElement(S,{key:e,name:e,value:a[e],dispatch:o})}console.log("RENDER APP");var u=a.counter||0;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"})),r.a.createElement("form",{autoComplete:"off"},r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return o({type:"SET",key:"counter",value:u-1})},type:"button"},"--")," ",u," ",r.a.createElement("button",{onClick:function(){return o({type:"SET",key:"counter",value:u+1})},type:"button"},"++")),l("homeAddress"),l("workAddress"),l("correspondAddress"),r.a.createElement(w,{name:"previousAddresses",value:a.previousAddresses,Compo:S,dispatch:o}),r.a.createElement("p",null,r.a.createElement("b",null,"Data")),r.a.createElement("code",null,JSON.stringify(a,null,"  ")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/Bazzer588/hooky-event-callback",target:"_blank",rel:"noopener noreferrer"},"https://github.com/Bazzer588/hooky-event-callback")),r.a.createElement("p",null,"See github for full details"),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return o({type:"CLEAR"})},type:"button"},"Clear All")," ",r.a.createElement("button",{onClick:function(){return b(o,"previousAddresses",[])},type:"button"},"Reset List")," ",r.a.createElement("button",{onClick:function(){b(o,"homeAddress",{}),b(o,"workAddress",{}),b(o,"correspondAddress",{})},type:"button"},"Reset Others"))))});window.setTimeout(function(){return e=T,void l.a.render(r.a.createElement(e,null),document.getElementById("root"));var e},100)}},[[52,1,2]]]);
//# sourceMappingURL=main.e02f4a6b.chunk.js.map