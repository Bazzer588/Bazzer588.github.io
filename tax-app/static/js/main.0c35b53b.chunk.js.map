{"version":3,"sources":["Fixers.js","registerServiceWorker.js","startRedux.js","components/AppConfig.js","components/PageRouter.js","FormField.js","FormSection.js","FormConnect.js","validation/validateString.js","sections/ContactSection.js","components/Select.js","components/Radios.js","sections/TaxForm3.js","components/FieldSet.js","sections/AddressSection.js","components/CheckBox.js","sections/BigForm.js","components/Button.js","pages/HomePage.js","pages/IconLang.js","components/Loader.js","pages/SearchPage.js","pages/TestPopup.js","pages/PickerPopup.js","validation/index.js","pages/PaymentPage.js","App.js","index.js","logo.svg"],"names":["String","prototype","endsWith","search","this_len","undefined","this","length","substring","Array","find","fn","len","n","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","DEF_STATE","coreData","lang","rootReducer","combineReducers","formState","arguments","action","type","Object","objectSpread","defineProperty","key","value","data","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","thunk","translate","t","getOptionList","getOptionDescriptions","pageRoutes","pageTitles","modPage","url","toTop","replace","scrollTo","history","replaceState","pushState","popStateEvent","PopStateEvent","dispatchEvent","err","ev","document","createEvent","initEvent","PageRouter","listenForPopState","_this","setState","dt","Date","now","addEventListener","removeEventListener","path","pathname","pathsplit","split","splice","Thing","title","react_default","a","createElement","thing","React","Component","FormField","onBlur","_this$props","props","touched","name","parent","onBlurField","assertThisInitialized","onChange","mod","target","_this$props2","onChangeField","_this$props3","showErrors","required","_this$props3$showLabe","showLabel","htmlId","inputClass","_this$props3$fieldCla","fieldClass","component","validator","stripProps","others","objectWithoutProperties","Compo","full","labl","invalid","errorId","otherProps","divClass","className","htmlFor","assign","aria-describedby","aria-invalid","id","aria-live","values","minLength","found","JSON","stringify","vals","renderError","PureComponent","make","Wrapped","FormSection","_React$PureComponent","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setShowErrors","testClick","node","getWrappedInstance","testHit","fieldName","newValue","updateRedux","changed","renderField","fieldProps","extraProps","validateSection","_this$props3$touched","DEF_VAL","_this$props3$value","fullPath","myRef","createRef","inherits","createClass","current","ref","defaultProps","dispatch","FormConnect","reactClass","defaultName","connect","withRef","validateString","output","trim","maxLength","pattern","nextValidator","RegExp","test","r","toLocaleUpperCase","stringTypeField","validateEmail","indexOf","at1","at2","lastIndexOf","dot","HomePhone","MobilePhone","idiot","Email","spellCheck","validateContactSection","v","_this$props$value","_this$props$touched","Field","Fragment","sdtupid","Select","options","allowOption","rangeFrom","rangeTo","rest","base","cnm","opts","d","push","list","map","forEach","row","renderOptions","Radios","label","radioId","checked","TaxReferenceNo","FirstName","LastName","UserName","placeholder","autoComplete","Gender","ZipCode","Phones","ContactSection","Country","code","allowArgentina","input","tax","style","display","verticalAlign","width","paddingRight","boxSizing","requireCountry","FieldSet","_ref","children","Address1","Area","City","Region","validateAddress","CheckBox","_ref$className","CarsInHouse","ParkingSpaces","AgeRetire","ConsentSMS","ConsentEmail","ConsentOth","HomeAddress","AddressSection","OverseasAddress","WorkAddress","HomePhones","OverseasPhones","marginTop","Button","onClick","_ref$cnm","HomePage","src","logo","alt","TaxForm3","sections_BigForm","textAlign","changePage","getState","alert","IconLang","xmlns","height","viewBox","fill","Loader","text","setTimeout","p","getElementById","focus","animation","tabIndex","SearchPage","goHomePage","loading","mainDivProps","aria-disabled","aria-hidden","Loader_Loader","TestPop","onClose","popup","foc","fadeOut","classList","add","content","role","aria-labelledby","stopPropagation","onFocus","aria-label","PickerPop","CardNumber","CVV","NameOnCard","validatePaymentPage","PaymentPage","doCheckout","page","errors","validateTree","sectionProps","child","fieldValue","resp","childOutput","isArray","smsTrack","inputErrors","message","sendPayment","res","showStatus","response","cvvNumber","Error","paymentFinished","e","handleError","focusToFirstError","prevProps","prevState","snapshot","_this2","_ref2","dprops","link","preventDefault","href","back","Promise","resolve","defineRoute","pa","record","App","PageRouter_PageRouter","personalRef","spouseRef","setGetOptionList","gender","country","months","languages","setGetOptionDescriptions","M","F","GB","US","CN","BW","AR","en","zh","ru","fr","Root","ReactDOM","render","es","URL","process","origin","concat","fetch","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.0c35b53b.chunk.js","sourcesContent":["\r\n// IE 11 rubbish\r\n\r\nif (!String.prototype.endsWith) {\r\n    String.prototype.endsWith = function(search, this_len) {    // eslint-disable-line\r\n        if (this_len === undefined || this_len > this.length) {\r\n            this_len = this.length;\r\n        }\r\n        return this.substring(this_len - search.length, this_len) === search;\r\n    };\r\n}\r\n\r\nif (!Array.prototype.find) {\r\n    Array.prototype.find = function( fn ) {  // eslint-disable-line\r\n        const len = this.length;\r\n        for (let n=0;n<len;n++) {\r\n            if (fn(this[n])) {\r\n                return this[n];\r\n            }\r\n        }\r\n    }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers, createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst DEF_STATE = {\r\n    coreData: {\r\n        lang: 'en'\r\n    }\r\n};\r\n\r\n// reducer\r\n\r\nfunction formState(state = DEF_STATE, action) {\r\n    //console.log('REDX',action);\r\n\r\n    switch(action.type) {\r\n        case 'SET':             // { type: 'SET', key: 'myThing', value: {...} }\r\n            return {\r\n                ...state,\r\n                [action.key]: action.value\r\n            };\r\n        case 'CORE':            // { type: 'CORE', data: { lang: 'de' } }\r\n            return {\r\n                ...state,\r\n                coreData: {\r\n                    ...state.coreData,\r\n                    ...action.data\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n    /*\r\n    if (action.type === 'SET') {       // { type: 'SET', key: 'myThing', value: {...} }\r\n        return {\r\n            ...state,\r\n            [action.key]: action.value\r\n        };\r\n    }\r\n    if (action.type === 'CORE') {       // { type: 'CORE', data: { lang: 'de' } }\r\n        return {\r\n            ...state,\r\n            coreData: {\r\n                ...state.coreData,\r\n                ...action.data\r\n            }\r\n        };\r\n    }\r\n    return state;\r\n    */\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n    formState\r\n});\r\n\r\nfunction configureStore() {\r\n    return createStore(\r\n        rootReducer,\r\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n        applyMiddleware(thunk)\r\n    );\r\n}\r\n\r\nconst store = configureStore();\r\n\r\nexport default store;\r\n","\r\nlet translate = (t) => {\r\n    return t;\r\n};\r\n\r\nlet getOptionList = () => {\r\n    return [];\r\n};\r\n\r\nlet getOptionDescriptions = () => {\r\n    return {};\r\n};\r\n\r\n// setters\r\n\r\nexport function setTranslator (fn) {\r\n    translate = fn;\r\n}\r\n\r\nexport function setGetOptionList (fn) {\r\n    getOptionList = fn;\r\n}\r\n\r\nexport function setGetOptionDescriptions (fn) {\r\n    getOptionDescriptions = fn;\r\n}\r\n\r\n// export\r\n\r\nexport { translate, getOptionList, getOptionDescriptions };\r\n","import React from 'react';\r\n\r\nconst pageRoutes = {};\r\nconst pageTitles = {};\r\n\r\nfunction modPage (url, toTop, replace) {\r\n    console.log('modPage',url,toTop);\r\n    if (toTop) window.scrollTo(0,0);\r\n    if (replace) {\r\n        window.history.replaceState(null, '', url); // data, title\r\n    } else {\r\n        window.history.pushState(null, '', url); // data, title\r\n    }\r\n\r\n    try {\r\n        const popStateEvent = new PopStateEvent('popstate', {state: {}});\r\n        dispatchEvent(popStateEvent);\r\n    } catch (err) {\r\n        const ev = document.createEvent('Event');\r\n        ev.initEvent('popstate', false, false);\r\n        dispatchEvent(ev);\r\n    }\r\n}\r\n\r\nexport default class PageRouter extends React.Component {\r\n\r\n    static defineRoute (pathname, thing, title) {\r\n        console.log('defineRoute', pathname, typeof pathname, typeof thing, title);\r\n        if (typeof pathname === 'function') {\r\n            // to do\r\n        } else {\r\n            pageRoutes[pathname] = thing;\r\n            pageTitles[pathname] = title;\r\n        }\r\n    }\r\n\r\n    static replacePage (url, toTop = true) {\r\n        modPage(url,toTop,true);\r\n    }\r\n\r\n    static changePage (url, toTop = true) {\r\n        modPage(url,toTop);\r\n    }\r\n\r\n    componentDidMount () {\r\n        window.addEventListener('popstate', this.listenForPopState );\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        window.removeEventListener('popstate', this.listenForPopState );\r\n    }\r\n\r\n    listenForPopState = (ev) => {\r\n        console.log('POPSTATE:',ev);\r\n        this.setState( { dt: Date.now() } ); // make react redraw\r\n    };\r\n\r\n    render() {\r\n        const path = window.location.pathname;\r\n\r\n        const pathsplit = path.split('/'); // .splice(0,1);\r\n        pathsplit.splice(0,1); // remove '' from start\r\n        console.log('PATHSPLIT',pathsplit);\r\n\r\n        const Thing = pageRoutes[path] || pageRoutes['/'];\r\n        // location.search = '?q=875848'\r\n\r\n        const title = pageTitles[path] || pageTitles['/'];\r\n\r\n        if (title) document.title = title;\r\n\r\n        return (<Thing search={window.location.search} />);\r\n    }\r\n\r\n}\r\n","import React from \"react\";\r\nimport {translate} from './components/AppConfig';\r\n\r\nexport default class FormField extends React.PureComponent {\r\n\r\n    onBlur = () => {\r\n        const { touched, name, parent } = this.props;\r\n        if (!touched) {\r\n            parent.onBlurField(name,true,this);\r\n        }\r\n    };\r\n\r\n    onChange = (ev) => {\r\n        const mod = ev.target.value;\r\n        const { name, parent } = this.props;\r\n        parent.onChangeField(name,mod,this);\r\n    };\r\n\r\n    render () {\r\n        const { parent, coreData, name, path, showErrors, touched, required, showLabel = true, htmlId, inputClass, fieldClass = '',\r\n            component, validator, stripProps, ...others } = this.props;\r\n        const Compo = component || 'input';\r\n        const value = this.props.value || '';\r\n        const full = path + '-' + (htmlId || name);\r\n        const labl = path + '-' + name;\r\n\r\n        const error = (!!touched || showErrors) && validator && validator(value,this.props,path);\r\n        const invalid = error && !!error.error;\r\n        // const invalid = required!==false && !!touched && !value;\r\n        const errorId = invalid ? full+'-fieldError' : undefined;\r\n\r\n        const otherProps = stripProps ? stripProps(others) : others;\r\n\r\n        const divClass = invalid ? 'form-field ff-invalid' : 'form-field';\r\n        return (\r\n            <div className={divClass+' '+fieldClass}>\r\n                {showLabel && <label htmlFor={full}>{translate(labl,required)}</label>}\r\n                <Compo\r\n                    aria-describedby={errorId}\r\n                    aria-invalid={invalid}\r\n                    className={inputClass}\r\n                    id={full}\r\n                    onBlur={this.onBlur}\r\n                    onChange={this.onChange}\r\n                    required={required}\r\n                    {...otherProps}\r\n                    value={value}\r\n                />\r\n                {invalid && renderError(error,errorId)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction renderError (error, errorId) {\r\n    function vals (error, values) {\r\n        if (values) {\r\n            if (values.minLength) return 'Please enter at least '+error.values.minLength+' characters';\r\n            if (values.found) return 'Invalid email, character sequence \"'+values.found+'\" is not allowed';\r\n            return error.error+' '+JSON.stringify(values);\r\n        }\r\n        return error.error;\r\n    }\r\n    return (\r\n        <span\r\n            aria-live=\"assertive\"\r\n            className=\"field-error\"\r\n            id={errorId}\r\n        >\r\n            {vals(error,error.values)}\r\n            {error.required && ' *'}\r\n        </span>\r\n    );\r\n}\r\n\r\n/*  render manually\r\n\r\n    <FormField\r\n        {...fieldProps}\r\n        coreData={coreData}\r\n        parent={this}\r\n        path={path+'-'+this.props.name}\r\n        touched={ this.props.touched[ fieldProps.name ] }\r\n        value={ this.props.value[ fieldProps.name ] }\r\n    />\r\n\r\n    parent/this must have props:\r\n        onChangeField\r\n        onBlurField\r\n\r\n */\r\n\r\n/*  OTHER THINGS\r\n    help popups\r\n    focus help (show layer with more info)\r\n    good data indicator (ie entry is valid, show a tick)\r\n    layout options (ie traditional table style)\r\n    extra field info ('Full name as displayed on card')\r\n    dimmed text in label - ie 'Address 2 (optional)' where bracketed is gray\r\n\r\n */\r\n","import React from 'react';\r\nimport FormField from \"./FormField\";\r\n\r\nexport default function make (Wrapped) {\r\n\r\n    class FormSection extends React.PureComponent {\r\n\r\n        constructor (props) {\r\n            super(props);\r\n            this.myRef = React.createRef();\r\n            this.state = {};\r\n        }\r\n\r\n        getWrappedInstance () {\r\n            return this.myRef.current;\r\n        }\r\n\r\n        setShowErrors = (showErrors) => {\r\n            this.setState({ showErrors });\r\n        };\r\n\r\n        testClick = (ev) => {\r\n            const node = this.getWrappedInstance();\r\n            console.log('NODE', node);\r\n            node.testHit(ev);\r\n        };\r\n\r\n        onBlurField = (fieldName,newValue) => {\r\n            const { touched, name, updateRedux, parent } = this.props;\r\n            const changed = { ...touched, [fieldName]: newValue };\r\n            if (updateRedux)\r\n                updateRedux({ type: 'SET', key: name+'_T', value: changed });\r\n            if (parent) {\r\n                parent.onBlurField(name,changed,this);\r\n            }\r\n        };\r\n\r\n        onChangeField = (fieldName, newValue) => {\r\n            const {value, name, updateRedux, parent} = this.props;\r\n            const changed = {...value, [fieldName]: newValue};\r\n            if (updateRedux)\r\n                updateRedux({type: 'SET', key: name, value: changed});\r\n            if (parent) {\r\n                parent.onChangeField(name, changed, this);\r\n            }\r\n        };\r\n\r\n        renderField = (fieldProps, extraProps) => {\r\n\r\n            // const stt = this.getWrappedInstance().state;\r\n            // console.log('renderField',fieldProps);\r\n\r\n            const Compo = fieldProps.validateSection ? fieldProps.component : FormField;\r\n            const {name, path, touched = DEF_VAL, value = DEF_VAL, coreData} = this.props;\r\n            const showErrors = this.state.showErrors || this.props.showErrors;\r\n\r\n            if (!name) {  // only sections can be nameless\r\n                return <Compo\r\n                    {...fieldProps}\r\n                    {...extraProps}\r\n                    coreData={coreData}\r\n                    parent={this}\r\n                    path={path}\r\n                    showErrors={showErrors}\r\n                    touched={touched}\r\n                    value={value}\r\n                />\r\n            }\r\n\r\n            // --- it has a name ---\r\n            const fullPath = path ? path + '-' + name : name;\r\n            // console.log('RF',fullPath,fieldProps.name);\r\n            return <Compo\r\n                {...fieldProps}\r\n                {...extraProps}\r\n                coreData={coreData}\r\n                key={fullPath + '-' + fieldProps.name}\r\n                parent={this}\r\n                path={fullPath}\r\n                showErrors={showErrors}\r\n                touched={touched[fieldProps.name]}\r\n                value={value[fieldProps.name]}\r\n            />\r\n        };\r\n\r\n        render () {\r\n            return (\r\n                <Wrapped\r\n                    {...this.props}\r\n                    ref={this.myRef}\r\n                    renderField={this.renderField}\r\n                    setShowErrors={this.setShowErrors}\r\n                />\r\n            );\r\n        }\r\n    }\r\n\r\n    FormSection.defaultProps = Wrapped.defaultProps;\r\n\r\n    return FormSection;\r\n}\r\n\r\nconst DEF_VAL = {};\r\n","import {connect} from \"react-redux\";\r\n\r\nconst DEF_VAL = {};\r\n\r\nconst updateRedux = (action) => (dispatch) => {   // (dispatch, getState)\r\n    return dispatch(action);\r\n};\r\n\r\nexport default function FormConnect (reactClass) {\r\n    const defaultName = reactClass.defaultProps && reactClass.defaultProps.name;\r\n\r\n    // props param below appears to ignore defaultProps\r\n\r\n    function mapStateToProps (state, props) {\r\n        const name = props.name || defaultName;\r\n        const value = state.formState[name] || DEF_VAL;\r\n        const touched = state.formState[name+'_T'] || DEF_VAL;\r\n        return {\r\n            value,\r\n            touched,\r\n            coreData: state.formState.coreData // language etc\r\n        };\r\n    }\r\n\r\n    return connect(mapStateToProps,{updateRedux},null,{ withRef: true })(reactClass);\r\n}\r\n","\r\n/** basic string validation using props:\r\n *\r\n * @param value a string, or could be undefined\r\n * @param props name, required, minLength, maxLength, pattern\r\n * @param path path to field in the tree\r\n * @param output clean output if valid\r\n * @returns {boolean|*} true if output value was set, an error object if there was an error\r\n */\r\n\r\nexport default function validateString (value, props, path, output) {\r\n    const { name, required } = props;\r\n    //console.log('VS',props.name,value);\r\n\r\n    if (value) {\r\n        if (typeof value === 'string') {\r\n            value = value.trim();\r\n            if (value) {\r\n                const { minLength, maxLength, pattern, nextValidator } = props;\r\n                const len = value.length;\r\n                if (minLength && len < minLength) {\r\n                    return {name, path, required, error: 'minLength', values: { minLength } };\r\n                }\r\n                if (maxLength && len > maxLength) {\r\n                    return {name, path, required, error: 'maxLength', values: { maxLength } };\r\n                }\r\n                if (pattern) {\r\n                    const reg = new RegExp(pattern); // ie ^[0-9]+$\r\n                    if (!reg.test(value)) {\r\n                        return {name, path, required, error: 'pattern' };\r\n                    }\r\n                }\r\n                // todo numeric ? alpha ? decimal ?\r\n                if (nextValidator) {\r\n                    const r = nextValidator(value,props,path,output);\r\n                    if (r) {\r\n                        return r;\r\n                    }\r\n                }\r\n                if (output) {\r\n                    if (props.inputClass==='upper-case') value = value.toLocaleUpperCase();\r\n                    output[name] = value;\r\n                }\r\n                return true;\r\n            }\r\n        } else {\r\n            // value is not a string - this is presumably invalid\r\n            return { name, path, required, error: 'invalidString' };\r\n        }\r\n    }\r\n\r\n    // there is no value\r\n    if (required) {\r\n        return { name, path, required, error: 'required' };\r\n    } else {\r\n        if (output) {\r\n            output[name] = '';\r\n        }\r\n    }\r\n}\r\n\r\nexport const stringTypeField = (name,props) => { return { name, ...props, validator: validateString } };\r\n\r\n\r\nexport function validateEmail (value, props, path, output) {\r\n    const err = validateString(value,props,path);\r\n    if (err===true) {\r\n        const { name, required } = props;\r\n        value = value.trim();\r\n\r\n        // invalid character sequences\r\n        const bad = [' ','..','.@','@.'];\r\n        const found = bad.find( (t) => value.indexOf(t)>=0 );\r\n        if (found) {\r\n            return { name, path, required, error: 'invalidEmail', values: { found } };\r\n        }\r\n\r\n        // general format, xxxx.xxx@xxx.xxx\r\n        const len = value.length;\r\n        const at1 = value.indexOf('@');\r\n        const at2 = value.lastIndexOf('@');\r\n        const dot = value.lastIndexOf('.');\r\n        if (dot===len-1 || at1<0 || at1<at2 || dot<at2) {\r\n            return { name, path, required, error: 'invalidEmail' };\r\n        }\r\n        if (output) {\r\n            output[name] = value;\r\n        }\r\n        return true;\r\n    }\r\n    return err;\r\n}\r\n\r\nexport const emailTypeField = (name,props) => { return { name, ...props, validator: validateEmail } };\r\n","import React from \"react\";\r\nimport FormSection from '../FormSection';\r\nimport { stringTypeField, emailTypeField } from '../validation/validateString'\r\n\r\nconst HomePhone = stringTypeField( 'homePhone', { maxLength: 12, type: 'tel', required: false });\r\nconst MobilePhone = stringTypeField( 'mobilePhone', { maxLength: 12, type: 'tel', required: false, idiot: '38439' });\r\nconst Email = emailTypeField( 'emailAddress', { maxLength: 80, minLength: 6, required: false, spellCheck: false, /*autoComplete: 'never-ever',*/ htmlId: 'otherField', type: 'email' });\r\n\r\nexport function validateContactSection (v) { // v, values, sectionProps, output, errors, path\r\n    v(HomePhone);\r\n    v(MobilePhone);\r\n    v(Email);\r\n}\r\n\r\nclass ContactSection extends React.PureComponent {\r\n\r\n    render () {\r\n        const { renderField, value = {}, touched = {} } = this.props;\r\n        const Field = renderField;\r\n        const v = value[HomePhone.name] || value[MobilePhone.name] || value[Email.name] ;\r\n        const z = !!touched[HomePhone.name] && !!touched[MobilePhone.name] && !!touched[Email.name] ;\r\n        const t = (z && !v);\r\n        return (\r\n            <React.Fragment>\r\n                <Field {...HomePhone} required={t} sdtupid={87} />\r\n                <Field {...MobilePhone} required={t} />\r\n                <Field {...Email} required={t} />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default FormSection(ContactSection);\r\n\r\n/*\r\n    {renderField(HomePhone,{ required: t })}\r\n    {renderField(MobilePhone,{ required: t })}\r\n    {renderField(Email,{ required: t })}\r\n\r\n */","import React from \"react\";\r\nimport {translate, getOptionList, getOptionDescriptions} from './AppConfig';\r\n\r\nexport default function Select (props) {\r\n    // console.log('SELECT',props);\r\n\r\n    const {options, allowOption, rangeFrom, rangeTo, className, ...rest} = props;\r\n    const {value, required, id} = props;\r\n\r\n    const base = !!value ? 'custom-select' : 'custom-select no-value';\r\n    const cnm = className ? base+' '+className : base;\r\n\r\n    return (\r\n        <select {...rest} className={cnm}>\r\n            {(value==='' || value===undefined || required === false) &&\r\n                <option value=\"\">{translate(id + '-pleaseSelect', required)}</option>\r\n            }\r\n            {renderOptions(options, allowOption, props, rangeFrom, rangeTo)}\r\n        </select>\r\n    );\r\n}\r\n\r\n// render the array of <option> elements\r\n\r\nfunction renderOptions (options, allowOption, props, rangeFrom, rangeTo) {\r\n\r\n    const opts = [];\r\n\r\n    if (rangeFrom || rangeTo) {\r\n        const d = rangeFrom<rangeTo ? 1 : -1;\r\n        for (let n=rangeFrom;;n+=d) {\r\n            opts.push(<option key={n} value={n}>{n}</option>);\r\n            if (n===rangeTo) break;\r\n        }\r\n        return opts;\r\n    }\r\n\r\n    const list = getOptionList(options);\r\n    const map = getOptionDescriptions(options);\r\n\r\n    list.forEach(row => {\r\n        if (!allowOption || allowOption(row, props))\r\n            opts.push(<option key={row} value={row}>{map[row] || row}</option>);\r\n    });\r\n\r\n    return opts;\r\n}\r\n\r\n// useful\r\n// https://stackoverflow.com/questions/5805059/how-do-i-make-a-placeholder-for-a-select-box\r\n","import React from \"react\";\r\nimport {translate, getOptionList, getOptionDescriptions} from './AppConfig';\r\n\r\nexport default function Radios (props) {\r\n\r\n    const {id, label} = props;\r\n\r\n    return (\r\n        <fieldset className=\"radio-fieldset\" id={id}>\r\n            <legend>{translate(label)}</legend>\r\n            {renderOptions(props)}\r\n        </fieldset>\r\n    );\r\n}\r\n\r\n// render an array of radio buttons\r\n\r\nfunction renderOptions (props) {\r\n\r\n    const {options, allowOption, value, id, className} = props;\r\n\r\n    const opts = [];\r\n\r\n    const cnm = className==='horizontal' ? 'radio-horizontal' : 'radio';\r\n\r\n    const list = getOptionList(options);\r\n    const map = getOptionDescriptions(options);\r\n\r\n    list.forEach(row => {\r\n        if (!allowOption || allowOption(row, props)) {\r\n            const radioId = id+'-'+row;  // ie 'form-section-gender-F'\r\n            opts.push(\r\n                <div className={cnm} key={radioId}>\r\n                    <input\r\n                        id={radioId}\r\n                        name={id}\r\n                        type=\"radio\"\r\n                        value={row}\r\n                        checked={row===value}\r\n                        aria-describedby={props['aria-describedby']}\r\n                        onChange={props.onChange}\r\n                        onBlur={props.onBlur}\r\n                    />\r\n                    <label htmlFor={radioId}>\r\n                        {map[row] || row}\r\n                    </label>\r\n                </div>\r\n            );\r\n        }\r\n    });\r\n\r\n    return opts;\r\n}\r\n","import React from \"react\";\r\nimport FormSection from '../FormSection';\r\nimport FormConnect from '../FormConnect';\r\nimport ContactSection, {validateContactSection} from \"./ContactSection\";\r\nimport Select from \"../components/Select\";      // eslint-disable-line no-unused-vars\r\nimport Radios from \"../components/Radios\";\r\nimport { stringTypeField } from '../validation/validateString'\r\nimport {translate} from '../components/AppConfig';\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete\r\n\r\nconst TaxReferenceNo = stringTypeField( 'taxRef', {maxLength: 8, minLength: 5, inputClass: 'narrow upper-case', required: true, spellCheck: false, type: 'tel', pattern: '^[0-9]+$' });\r\nconst FirstName = stringTypeField( 'firstName', {maxLength: 16, minLength: 2});\r\nconst LastName = stringTypeField( 'lastName', {maxLength: 30, required: true });\r\nconst UserName = stringTypeField( 'username', {placeholder: 'Username', autoComplete: 'username', type: 'text', pattern: '(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}' });\r\n\r\nconst Gender = stringTypeField( 'gender', {component: Radios, options: 'gender', required: true, showLabel: false, label: 'Gender', inputClass: 'medium', className: 'horizontal' });\r\nconst ZipCode = stringTypeField( 'zipCode', {maxLength: 12, autoComplete: 'postal-code', required: false, inputClass: 'narrow' });\r\n\r\nconst Phones = { name: 'phones', component: ContactSection, validateSection: validateContactSection };\r\n\r\nconst allowCountry = (code, props) => {\r\n    if (code==='AR' && props.allowArgentina===false)\r\n        return false;\r\n    return true;\r\n};\r\n\r\nconst stripArgentina = (input) => {\r\n    //const { allowArgentina, ...others } = input;\r\n    //return others;\r\n    return input;\r\n};\r\n\r\n// const Country = stringTypeField( 'country', {component: Select, options: 'country', required: false, allowOption: allowCountry, stripProps: stripArgentina });\r\nconst Country = stringTypeField( 'country', {component: Radios, options: 'country', required: false, allowOption: allowCountry, stripProps: stripArgentina, showLabel: false, label: 'Country' });\r\n\r\nclass TaxForm extends React.PureComponent {\r\n\r\n    render () {\r\n        const Field = this.props.renderField;\r\n        const { value = {}, allowArgentina } = this.props;\r\n        const tax = value['taxRef'];\r\n        return (\r\n            <fieldset className=\"form-fieldset\">\r\n                <legend>{translate(this.props.name)}</legend>\r\n                {Field( TaxReferenceNo )}\r\n                <div style={{ display: 'inline-block', verticalAlign: 'top', width: '50%', paddingRight: '16px', boxSizing: 'border-box' }}>\r\n                    {Field( FirstName )}\r\n                    </div>\r\n                    <div style={{ display: 'inline-block', verticalAlign: 'top', width: '50%' }}>\r\n                    {Field( LastName )}\r\n                </div>\r\n                {Field( Gender )}\r\n                {Field( UserName, { required: !!tax } )}\r\n                {Field( Country, { allowArgentina, required: (this.props.requireCountry || false) } )}\r\n                {Field( ZipCode )}\r\n                {Field( Phones )}\r\n            </fieldset>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormConnect( FormSection(TaxForm) );\r\n\r\n//  <Field {...Country} allowOption={this.allowCountry} />\r\n//  {Field(Country, { allowOption: this.allowCountry}) }\r\n","import React from 'react';\r\nimport {translate} from './AppConfig';\r\n\r\nexport default function FieldSet ({ name, children }) {\r\n\r\n    return (\r\n        <fieldset className=\"form-fieldset\">\r\n            <legend>{translate(name)}</legend>\r\n            {children}\r\n        </fieldset>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {stringTypeField} from '../validation/validateString';\r\nimport FormSection from '../FormSection';\r\nimport Select from '../components/Select';\r\n//import {translate} from \"../components/AppConfig\";\r\n\r\n// name/number + street ?\r\nconst Address1 = stringTypeField( 'address1', {maxLength: 35, required: true });\r\nconst Area = stringTypeField( 'address2', {maxLength: 35, required: false });\r\nconst City = stringTypeField( 'city', {maxLength: 35, required: false });\r\nconst Region = stringTypeField( 'region', {maxLength: 35, required: false, minLength: 2 });\r\nconst ZipCode = stringTypeField( 'zipCode', {maxLength: 12, autoComplete: 'postal-code', required: false, inputClass: 'narrow', minLength: 4 });\r\nconst Country = stringTypeField( 'country', {component: Select, options: 'country', required: true });\r\n\r\nexport function validateAddress (v) { // v, values, sectionProps, output, errors, path\r\n    v(Address1);\r\n    v(Area);\r\n    v(City);\r\n    v(Region);\r\n    v(ZipCode);\r\n    v(Country);\r\n}\r\n\r\nclass AddressSection extends React.PureComponent {\r\n\r\n    render () {\r\n        //const { children } = this.props;\r\n        const Field = this.props.renderField;\r\n        return ([\r\n            Field( Address1 ),\r\n            Field( Area ),\r\n            Field( City ),\r\n            Field( Region  ),\r\n            Field( ZipCode ),\r\n            Field( Country )\r\n        ]);\r\n    }\r\n\r\n}\r\n\r\nexport default FormSection(AddressSection);\r\n\r\n/*\r\n            <fieldset className=\"form-fieldset\">\r\n                <legend>{translate(this.props.name)}</legend>\r\n                {Field( City )}\r\n                {Field( Region )}\r\n                {Field( ZipCode )}\r\n                {Field( Country )}\r\n                {children}\r\n            </fieldset>\r\n\r\nconst nod = {\r\n    div: { className: 'h3',\r\n        children: [\r\n            { heading: { kind: 'h3', text: 'props.title' } },\r\n            { field: 'City' },\r\n            { field: 'Region' }\r\n        ]\r\n    }\r\n};\r\n*/\r\n","import React from \"react\";\r\nimport {translate} from './AppConfig';\r\n\r\nexport default function ({ id, value, label, onChange, className = 'checkbox', ...rest }) {\r\n\r\n    return (\r\n        <div className={className}>\r\n            <input\r\n                {...rest}\r\n                checked={!!value}\r\n                id={id}\r\n                onChange={ () => onChange({ target: { value: !value } }) }\r\n                type=\"checkbox\"\r\n            />\r\n            <label htmlFor={id}>{translate(label)}</label>\r\n        </div>\r\n    );\r\n}\r\n\r\n/*\r\n    checked is set if the value passed in is truthy\r\n\r\n    onChange is called with a boolean target.value\r\n\r\n    required is not set, due to warning:\r\n    The attribute aria-required is not supported by the role checkbox. This role is implicit on the element input  jsx-a11y/role-supports-aria-props\r\n\r\n*/\r\n","import React from \"react\";\r\nimport FormSection from '../FormSection';\r\nimport FormConnect from '../FormConnect';\r\nimport FieldSet from '../components/FieldSet';\r\n\r\nimport AddressSection, {validateAddress} from \"./AddressSection\";\r\nimport ContactSection, {validateContactSection} from \"./ContactSection\";\r\nimport Select from \"../components/Select\";\r\nimport CheckBox from \"../components/CheckBox\";\r\nimport {stringTypeField} from \"../validation/validateString\";\r\n\r\n// fields\r\n\r\nconst CarsInHouse = stringTypeField( 'carsInHouse', {component: Select, required: true, rangeFrom: 0, rangeTo: 4, inputClass: 'narrow' });\r\nconst ParkingSpaces = stringTypeField( 'parkingSpaces', {component: Select, required: false, rangeFrom: 0, rangeTo: 2, inputClass: 'narrow' });\r\nconst AgeRetire = stringTypeField( 'preferredRetireAge', {component: Select, required: false, rangeFrom: 70, rangeTo: 55, inputClass: 'narrow' });\r\nconst ConsentSMS = { name: 'consentSMS', component: CheckBox, showLabel: false, label: 'Please send me SMS messages about the progress of my application.' };\r\nconst ConsentEmail = { name: 'consentEmail', component: CheckBox, showLabel: false, label: 'Sign me up for regular email alerts.' };\r\nconst ConsentOth = { name: 'consentOther', component: CheckBox, showLabel: false, label: 'Other consent option.' };\r\n\r\n// declare sections\r\n\r\nconst HomeAddress = { name: 'homeAddress', component: AddressSection, validateSection: validateAddress };\r\nconst OverseasAddress = { name: 'overseasAddress', component: AddressSection, validateSection: validateAddress };\r\nconst WorkAddress = { name: 'workAddress', component: AddressSection, validateSection: validateAddress };\r\n\r\nconst HomePhones = { name: 'contactHome', component: ContactSection, validateSection: validateContactSection };\r\nconst OverseasPhones = { name: 'contactOver', component: ContactSection, validateSection: validateContactSection };\r\n\r\nclass BigForm extends React.PureComponent {\r\n\r\n    render () {\r\n        const Field = this.props.renderField;\r\n        return (\r\n            <div>\r\n                <FieldSet name=\"About you\">\r\n                    {Field( CarsInHouse )}\r\n                    {Field( ParkingSpaces )}\r\n                    {Field( AgeRetire )}\r\n                    <div style={{ marginTop: '16px' }}>\r\n                    {Field( ConsentSMS )}\r\n                    {Field( ConsentEmail )}\r\n                    {Field( ConsentOth )}\r\n                    </div>\r\n                </FieldSet>\r\n                <FieldSet name=\"homeAddress\">\r\n                    {Field( HomeAddress )}\r\n                    {Field( HomePhones )}\r\n                </FieldSet>\r\n                <FieldSet name=\"overseasAddress\">\r\n                    {Field( OverseasAddress )}\r\n                    {Field( OverseasPhones )}\r\n                </FieldSet>\r\n                <FieldSet name=\"workAddress\">\r\n                    {Field( WorkAddress )}\r\n                </FieldSet>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormConnect( FormSection(BigForm) );\r\n","import React from 'react';\r\n\r\nexport default function Button ({ children, id, onClick, cnm = 'default' }) {\r\n    return <button className={\"btn btn-\"+cnm} id={id} onClick={onClick} type=\"button\">{children}</button>;\r\n}\r\n","import React from 'react';\r\nimport logo from '../logo.svg';\r\nimport store from \"../startRedux\";\r\nimport TaxForm from '../sections/TaxForm3';\r\nimport BigForm from '../sections/BigForm';\r\nimport PageRouter from '../components/PageRouter';\r\nimport Button from \"../components/Button\";\r\n\r\nexport default class HomePage extends React.Component {\r\n\r\n    render() {\r\n\r\n        const clk = () => {\r\n            console.log(store.getState().formState);\r\n            PageRouter.changePage('/tax-app/search');\r\n            return false;\r\n        };\r\n\r\n        function reset () {\r\n            console.log(store.getState().formState);\r\n            alert('reset todo');\r\n        }\r\n\r\n        return (\r\n            <div className=\"App bg-light\">\r\n                <header className=\"App-header\">\r\n                    <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n                    <h1 className=\"App-title\">Tax calculator application.</h1>\r\n                </header>\r\n                <form>\r\n                    <TaxForm path=\"mainForm\" name=\"personalRef\" requireCountry/>\r\n                    <TaxForm path=\"mainForm\" name=\"spouseRef\" allowArgentina={false}/>\r\n                    <BigForm path=\"mainForm\" name=\"bigForm\" />\r\n                    <p style={{ textAlign: 'right' }}>\r\n                        <Button onClick={() => PageRouter.changePage('/tax-app/search')} >Search</Button>\r\n                        <Button cnm=\"secondary\" onClick={reset} >Reset</Button>\r\n                        <Button cnm=\"primary\" onClick={clk}>Continue</Button>\r\n                    </p>\r\n                </form>\r\n                <p className=\"App-intro\">\r\n                    Thank you\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nexport default function IconLang (props) {\r\n    return (\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"#fff\" {...props}>\r\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n            <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\n// baseline-language-24px.svg\r\n// https://material.io/tools/icons/?icon=language&style=baseline\r\n","import React from \"react\";\r\nimport './Loader.css';\r\n\r\nexport default function Loader ({ text }) {\r\n\r\n    text = text || 'Page loading...';\r\n\r\n    setTimeout( () => {\r\n        const p = document.getElementById('loader-text');\r\n        if (p) p.focus();\r\n    }, 200);\r\n\r\n    return (\r\n        <div className=\"loader-body\">\r\n            <div className=\"loader-container\">\r\n                <div className=\"loader\">\r\n                    <div className=\"loader antiloader\">\r\n                        <div className=\"loader\" style={{ animation: 'spin 0.8s linear infinite'}} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span className=\"loader-text\" aria-live=\"assertive\" id=\"loader-text\" tabIndex=\"-1\">{text}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\n// <span className=\"loader-text\" aria-live=\"assertive\" id=\"loader-text\" role=\"alert\" tabIndex=\"-1\">{text}</span>\r\n\r\n// https://www.w3schools.com/code/tryit.asp?filename=FVAC6056923W\r\n\r\n// ovals\r\n// https://www.w3schools.com/code/tryit.asp?filename=FVAERQGFA5PJ\r\n\r\n// psychedelic\r\n// https://www.w3schools.com/code/tryit.asp?filename=FVAED5JFVIO5\r\n\r\n// delays\r\n// https://www.w3schools.com/code/tryit.asp?filename=FVC7MNJUM92B\r\n","import React from 'react';\r\n// import logo from '../logo.svg';\r\nimport store from \"../startRedux\";\r\nimport BigForm from '../sections/BigForm';\r\nimport PageRouter from '../components/PageRouter';\r\nimport IconLang from './IconLang';\r\nimport Loader from '../components/Loader';\r\nimport Button from \"../components/Button\";\r\n\r\nexport default class SearchPage extends React.Component {\r\n\r\n    goHomePage = () => {\r\n        this.setState({ loading: true });\r\n        setTimeout( () => {\r\n            window.scrollTo(0,0);\r\n            PageRouter.changePage('/tax-app');\r\n        }, 3000);\r\n    };\r\n\r\n    render() {\r\n\r\n        const clk = () => {\r\n            console.log(store.getState().formState);\r\n            PageRouter.changePage('/tax-app/checkout');\r\n            return false;\r\n        };\r\n\r\n        const loading = this.state && this.state.loading;\r\n        const mainDivProps = loading ? { 'aria-disabled': true, 'aria-hidden': true, className: 'loader-blur' } : {};\r\n\r\n        return (\r\n            <div className=\"App bg-light\">\r\n                <div {...mainDivProps}>\r\n                    <header className=\"App-header\">\r\n                        <h1 className=\"App-title\">\r\n                            <IconLang style={{ verticalAlign: 'top' }}/>\r\n                            {' '}\r\n                            Search page\r\n                        </h1>\r\n                    </header>\r\n                    <form>\r\n                        <BigForm path=\"mainForm\" name=\"bigForm\" />\r\n                        <p style={{ textAlign: 'right' }}>\r\n                            <Button onClick={this.goHomePage} >Home page</Button>\r\n                            <Button cnm=\"primary\" onClick={clk}>Continue</Button>\r\n                        </p>\r\n                    </form>\r\n                    <p className=\"App-intro\">\r\n                        Thank you\r\n                    </p>\r\n                </div>\r\n                {loading && <Loader/>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\nimport './popup.scss';\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function TestPop ({ parent }) {\r\n\r\n    function eat (ev) {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    function switchPopup () {\r\n        parent.setState({ popup: 2 });\r\n    }\r\n\r\n    function onClose () {\r\n        parent.setState({ popup: 0 });\r\n        foc('ShowPopup');\r\n    }\r\n\r\n    function fadeOut () {\r\n        const p = document.getElementById('exampleModalLive');\r\n        p.classList.add('modal-hiding');\r\n        setTimeout( () => { onClose(); }, 300 );\r\n    }\r\n\r\n    const title = 'Cancel this purchase?';\r\n    const content = (\r\n        <>\r\n            <p>You can cancel this purchase now.</p>\r\n            <p>Your basket will be empty of products</p>\r\n        </>\r\n    );\r\n\r\n    setTimeout( () => { foc('exampleModalLive'); }, 100); // focus to modal\r\n\r\n    return (\r\n        <>\r\n            <div id=\"exampleModalLive\" className=\"modal show\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLiveLabel\" style={{ display: 'block' }}\r\n                onClick={fadeOut}\r\n            >\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                    <div className=\"modal-content\" onClick={eat}>\r\n                        <div className=\"modal-header\" tabIndex=\"0\" onFocus={() => foc('closePop')}>\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLiveLabel\">{title}</h5>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={onClose}>\r\n                                <span aria-hidden=\"true\">×</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            {content}\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <Button id=\"closePop\" onClick={fadeOut}>Cancel</Button>\r\n                            <button type=\"button\" className=\"btn btn-secondary\" onClick={switchPopup}>Next</button>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={fadeOut}>Save changes</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-backdrop\" tabIndex=\"0\" onFocus={() => foc('closePop')}/>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction foc (id) {\r\n    const p = document.getElementById(id);\r\n    if (p) p.focus();\r\n}\r\n","import React from 'react';\r\nimport './popup.scss';\r\nimport Select from \"../components/Select\";\r\nimport Button from \"../components/Button\";\r\n\r\nexport default function PickerPop ({ parent }) {\r\n\r\n    function eat (ev) {\r\n        ev.stopPropagation();\r\n    }\r\n\r\n    function backPopup () {\r\n        parent.setState({ popup: 1 });\r\n    }\r\n\r\n    function onClose () {\r\n        parent.setState({ popup: false });\r\n        foc('ShowPopup');\r\n    }\r\n\r\n    function fadeOut () {\r\n        const p = document.getElementById('exampleModalLive');\r\n        p.classList.add('modal-hiding');\r\n        setTimeout( () => { onClose(); }, 300 );\r\n    }\r\n\r\n    const title = 'Choose your language';\r\n    const content = (\r\n        <>\r\n            <p>Pick a language</p>\r\n            <Select options=\"languages\"/>\r\n        </>\r\n    );\r\n\r\n    setTimeout( () => { foc('exampleModalLive'); }, 100); // focus to modal\r\n\r\n    return (\r\n        <>\r\n            <div id=\"exampleModalLive\" className=\"modal show\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLiveLabel\" style={{ display: 'block' }}\r\n                onClick={fadeOut}\r\n            >\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                    <div className=\"modal-content\" onClick={eat}>\r\n                        <div className=\"modal-header\" tabIndex=\"0\" onFocus={() => foc('closePop')}>\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLiveLabel\">{title}</h5>\r\n                            <button type=\"button\" className=\"close\" aria-label=\"Close\" onClick={onClose}>\r\n                                <span aria-hidden=\"true\">×</span>\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            {content}\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <Button id=\"closePop\" onClick={fadeOut}>Cancel</Button>\r\n                            <button type=\"button\" className=\"btn btn-secondary\" onClick={backPopup}>Back</button>\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={fadeOut}>Change language</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-backdrop\" tabIndex=\"0\" onFocus={() => foc('closePop')}/>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction foc (id) {\r\n    const p = document.getElementById(id);\r\n    if (p) p.focus();\r\n}\r\n","\r\n/** the entry point for validating an object\r\n *\r\n * @param sectionProps must have a method validateSection()\r\n * @param values will be passed to validateSection\r\n * @param output a {} or []\r\n * @param errors an array [] for errors\r\n * @param path the route to this in the tree, ie 'personalDetails-homeAddress' or 'additionalDriver-2-nameDetails'\r\n * @returns {void|boolean|*}\r\n */\r\n\r\nexport function validateTree (sectionProps, values, output, errors, path) {\r\n\r\n    function validateChild (child, extraProps) {\r\n        child = extraProps ? {...child, ...extraProps} : child; // merge optional extraProps\r\n        const name = child.name;\r\n        if (child.validateSection) {  // its a section, which contains fields, it can append to errors\r\n            if (name!==undefined) {\r\n                const childOutput = child.isArray ? [] : {};\r\n                const r = validateTree(child, values && values[name], childOutput, errors, path + '-' + name);\r\n                if (r!==false) {\r\n                    output[name] = childOutput;\r\n                }\r\n            } else { // a nameless section - contains fields which output to it's parent\r\n                validateTree(child, values, output, errors, path);\r\n            }\r\n        } else { // its a field, it can return a single error\r\n            const fieldValue = values && values[name];\r\n            //child.validator(fieldValue, child, output, errors, path);\r\n\r\n            const resp = child.validator(fieldValue, child, path, output);\r\n            if (resp && resp.error) errors.push( resp );\r\n            return resp;\r\n        }\r\n    }\r\n\r\n    return sectionProps.validateSection(validateChild, values, sectionProps, output, errors, path);\r\n}\r\n\r\n/** experi\r\n *\r\n * @param v\r\n * @param values\r\n * @param props\r\n * @param output\r\n * @param errors\r\n * @param path\r\n * @returns {boolean}\r\n */\r\n\r\nexport function validateArraySection (v, values, props, output, errors, path) {  // props: minLength, maxLength\r\n    const len = values ? values.length : 0;\r\n    const name = props.name;\r\n    if (props.maxLength && len > props.maxLength) {\r\n        errors.push({name, path, maxLength: props.maxLength});\r\n        return false;\r\n    }\r\n    if (values) {\r\n        values.forEach((row, index) => {\r\n            v(props.foobar, {name: index}); // TODO wtf foobar\r\n        });\r\n    }\r\n    if (len < props.minLength) {\r\n        errors.push({name, path, minLength: props.minLength});\r\n    }\r\n}\r\n\r\n/* Useful general validation functions */\r\n\r\nconst num = new RegExp(/^\\d+$/);\r\n\r\nexport function isNumeric(value) {\r\n    return num.test(value);\r\n}\r\n\r\nconst alphanum = new RegExp(/^[a-z0-9]+$/i);\r\n\r\nexport function isAlphaNumeric(value) {\r\n    return alphanum.test(value);\r\n}\r\n","import React from 'react';\r\nimport logo from '../logo.svg';\r\nimport PageRouter from '../components/PageRouter';\r\nimport FormConnect from \"../FormConnect\";\r\nimport FormSection from \"../FormSection\";\r\nimport CheckBox from \"../components/CheckBox\";\r\nimport Button from \"../components/Button\";\r\nimport Loader from '../components/Loader';\r\nimport TestPopup from './TestPopup';\r\nimport PickerPopup from './PickerPopup';\r\n\r\nimport {stringTypeField} from \"../validation/validateString\";\r\nimport {validateTree} from '../validation';\r\n\r\nfunction validateBool (value, props, path, output) {\r\n    const { name, required } = props;\r\n    if (required && !value) {\r\n        return { name, path, required, error: 'required' };\r\n    }\r\n    if (output) {\r\n        output[name] = !!value;\r\n    }\r\n    return true;\r\n}\r\n\r\n// declare fields\r\n\r\nconst CardNumber = stringTypeField( 'cardNumber', { minLength: 16, maxLength: 16, type: 'tel', required: true });\r\nconst CVV = stringTypeField( 'cvvNumber', { minLength: 3, maxLength: 4, type: 'tel', required: true, inputClass: 'tiny', pattern: '^[0-9]+$' });\r\nconst NameOnCard = stringTypeField( 'nameOnCard', {maxLength: 40, minLength: 4, inputClass: 'upper-case', required: true, spellCheck: false, pattern: '^[a-zA-Z ]+$' });\r\nconst ConsentSMS = { name: 'smsTrack', component: CheckBox, showLabel: false, label: 'Please send me SMS messages to track my order.', required: true, validator: validateBool };\r\n\r\nfunction validatePaymentPage (v /*, values, sectionProps, output, errors, path */) {\r\n    v(CardNumber);\r\n    v(CVV);\r\n    v(NameOnCard);\r\n    v(ConsentSMS);\r\n    return true;\r\n}\r\n\r\n// page class\r\n\r\nclass PaymentPage extends React.Component {\r\n\r\n    static defaultProps = {\r\n        name: 'checkOutForm',\r\n        path: 'paymentPage'\r\n    };\r\n\r\n    componentWillMount () {             // unsafe, use static getDerivedStateFromProps(nextProps, prevState)\r\n        const { name } = this.props;\r\n        this.props.updateRedux({ type: 'SET', key: name+'_T', value: {} });\r\n    }\r\n\r\n    componentDidUpdate (prevProps, prevState, snapshot) { // prevProps, prevState, snapshot\r\n        //console.log('DID UPTATE');\r\n        const { inputErrors, } = (this.state || {});\r\n        if (inputErrors!==(prevState && prevState.inputErrors)) {\r\n            // const p = document.getElementById('theErrors');\r\n            // if (p) p.focus();\r\n            // focus to error?\r\n            // this.focusToFirstError();\r\n        }\r\n    }\r\n\r\n    focusToFirstError (errors) {\r\n        if (!errors) errors = this.state.errors || []; // const { errors = [] } = (this.state || {});\r\n        const err = errors[0];\r\n        if (err) {\r\n            const id = err.path+'-'+err.name;\r\n            const p = document.getElementById(id);\r\n            if (p) p.focus();\r\n        }\r\n    }\r\n\r\n    doCheckout = () => {\r\n        const output = {};\r\n        const errors = [];\r\n        validateTree({ validateSection: validatePaymentPage },this.props.value,output,errors,'paymentPage-checkOutForm');\r\n        console.log('OUTPUT',output);\r\n        console.log('ERRORS',errors);\r\n\r\n        if (output.smsTrack) {\r\n            console.log('CHGECKOUT', this.props.value);\r\n            this.setState({ inputErrors: undefined });\r\n            makePayment(this, this.props.value);\r\n        } else {\r\n            // show errors\r\n            this.setState({ inputErrors: Date.now(), errors });\r\n            this.props.setShowErrors(true);\r\n            this.focusToFirstError(errors);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const Field = this.props.renderField;\r\n\r\n        const { loading, message, popup } = this.state || {};\r\n        const dprops = loading ? { 'aria-disabled': true, 'aria-hidden': true, className: 'loader-blur' } : {};\r\n\r\n        const { inputErrors } = (this.state || {});\r\n\r\n        const link = (e) => {\r\n            this.setState({ inputErrors: undefined, errors: [] });\r\n            this.props.setShowErrors(false);\r\n            alert('!!!');\r\n            e.preventDefault();\r\n            return false;\r\n        };\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <div {...dprops}>\r\n                    <header className=\"App-header\">\r\n                        <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n                        <h1 className=\"App-title\">Checkout</h1>\r\n                    </header>\r\n                    <form>\r\n                        <h2>Your payment details</h2>\r\n                        {Field( CardNumber )}\r\n                        {Field( CVV )}\r\n                        {Field( NameOnCard )}\r\n                        <br/>\r\n                        {Field( ConsentSMS )}\r\n\r\n                        {inputErrors &&\r\n                            <div id=\"theErrors\" tabIndex=\"0\" className=\"alert alert-primary\">\r\n                                Please correct errors and continue {inputErrors}\r\n                                <a href=\"/\" onClick={link} tabIndex=\"0\">Please enter a valid credit card number</a>\r\n                                <a href=\"/\" onClick={link} tabIndex=\"0\">Please enter the CVV number</a>\r\n                            </div>\r\n                        }\r\n\r\n                        <p style={{ textAlign: 'right', marginTop: '12px' }}>\r\n                            <Button onClick={() => { window.history.back(); }}>Cancel</Button>\r\n                            <Button id=\"ShowPopup\" onClick={() => { this.setState({ popup: 1 }); }}>Popup</Button>\r\n                            <Button cnm=\"primary\" onClick={this.doCheckout} >Make Payment</Button>\r\n                        </p>\r\n                    </form>\r\n                    <p className=\"App-intro\">\r\n                        Terms & conditions\r\n                        etc here\r\n                    </p>\r\n                </div>\r\n                {loading && <Loader text={message}/>}\r\n                {popup===1 && <TestPopup parent={this}/>}\r\n                {popup===2 && <PickerPopup parent={this}/>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FormConnect( FormSection(PaymentPage) );\r\n\r\n// #######################   promise code   ###################################\r\n\r\nfunction makePayment (page, values) {\r\n    page.setState({ loading: true, message: 'Checking payment details...' });\r\n    sendPayment(values)\r\n        .then( (res) => showStatus(res, page, 'Checking stock and delivery schedule') )\r\n        .then( (res) => sendPayment(res) )\r\n        .then( (res) => showStatus(res, page, 'Transferring funds') )\r\n        .then( (res) => sendPayment(res) )\r\n        .then( (res) => showStatus(res, page, '', false) )\r\n        .then( (res) => paymentFinished(res,values) )\r\n        .catch( (e) => handleError(page,e) );\r\n}\r\n\r\nfunction showStatus (res, page, message, loading = true) {\r\n    page.setState({ message, loading });\r\n    return res;\r\n}\r\n\r\nfunction sendPayment (v) {\r\n    return new Promise( (resolve) => {\r\n        setTimeout( () => resolve(v), 1000 );\r\n    });\r\n}\r\n\r\nfunction paymentFinished (response, thing) {\r\n    console.log('paymentFinished',response);\r\n    if (!response || thing.cvvNumber==='666')\r\n        throw new Error('Validation of the CVV number failed');\r\n    window.scrollTo(0,0);\r\n    PageRouter.changePage('/tax-app');\r\n}\r\n\r\nfunction handleError (page, err) {\r\n    page.setState({ message: 'Error occurred' });\r\n    alert('An error occurred\\n'+err);\r\n    page.setState({ loading: false });\r\n}\r\n\r\n/*  TODO\r\n    what if user presses back button ?\r\n    promise will eventually resolve (or error)\r\n\r\n    state vs redux\r\n    press back then forward - should spinner still be there ?\r\n*/\r\n","import React from 'react';\nimport './App.scss';\nimport PageRouter from './components/PageRouter';\n// pages\nimport HomePage from './pages/HomePage';\nimport SearchPage from './pages/SearchPage';\nimport PaymentPage from './pages/PaymentPage';\n\nPageRouter.defineRoute('/',HomePage,'React tax application');\nPageRouter.defineRoute('/tax-app',HomePage,'React tax application');\nPageRouter.defineRoute('/tax-app/search',SearchPage,'React search page');\nPageRouter.defineRoute('/tax-app/deals',SearchPage,'React hot deals page');\nPageRouter.defineRoute('/tax-app/checkout',PaymentPage,'Checkout page');\n\nPageRouter.defineRoute(routePayment);\n\nexport default class App extends React.Component {\n\n    render() {\n        return <PageRouter/>\n    }\n}\n\n/*\n    wrap with this to see warnings:\n    <React.StrictMode>\n */\n\nfunction routePayment (pa) { // tax-app/payment/8437763\n    if (pa[1]==='payment') {\n        return {\n            Compo: PaymentPage,\n            title: 'Payment record {record}',\n            values: {\n                record: pa[2]\n            }\n        };\n    }\n}\n","import 'react-app-polyfill/ie11'; // has to be first\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Fixers';\nimport './index.css';\nimport registerServiceWorker from './registerServiceWorker';\nimport {Provider} from 'react-redux'\nimport store from './startRedux';\n// this app\nimport { setTranslator, setGetOptionList, setGetOptionDescriptions } from './components/AppConfig';\nimport App from './App';\n\n// SET UP DEFAULTS\nsetTranslator( translate );\nsetGetOptionList( getOptionList );\nsetGetOptionDescriptions( getOptionDescriptions );\n\n// RENDER\n\nconst render = Root => {\n    ReactDOM.render(\n        <Provider store={store}><Root/></Provider>,\n        document.getElementById('root')\n    );\n};\n\nsetTimeout( () => render(App), 500 );  // always display loader for 1 sec\n// render(App);\n\nif (module.hot) {\n    module.hot.accept('./App', () => {\n        console.log('MOD HOT');\n        const NextApp = require('./App').default;\n        render(NextApp);\n    });\n}\n\n// PROGRESSIVE APP\n\nregisterServiceWorker();\n\n// TODO move elsewhere POSSIBLY TO APP\n\nfunction translate (t,required) {\n    if (!t) return 'Undefined';\n    if (t.endsWith('country-pleaseSelect')) return required ? 'Choose a country' : 'No country selected';\n    if (t.endsWith('gender-pleaseSelect')) return 'Please select a gender';\n    if (t.endsWith('gender-required')) return 'Please choose a gender';\n    if (t.endsWith('-pleaseSelect')) return required ? 'Please choose' : 'Not specified';\n\n    if (t.endsWith('-address1')) return 'First line of address, for example house number and street';\n    if (t.endsWith('-address2')) return 'Second line of address';\n    if (t.endsWith('-city')) return 'City';\n    if (t.endsWith('-region')) return 'State or Province';\n    if (t.endsWith('-country')) return 'Country';\n    if (t.endsWith('-zipCode')) return 'Zip code';\n    if (t.endsWith('-firstName')) return 'First name';\n    if (t.endsWith('-lastName')) return 'Surname';\n    if (t.endsWith('-taxRef')) return 'Tax Reference Number';\n    if (t.endsWith('-username')) return 'User name';\n    if (t.endsWith('-gender')) return 'Gender';\n    if (t.endsWith('-homePhone')) return 'Home telephone';\n    if (t.endsWith('-mobilePhone')) return 'Mobile phone';\n    if (t.endsWith('-emailAddress')) return 'Email address';\n\n    if (t.endsWith('-carsInHouse')) return 'How many cars are there in your household?';\n    if (t.endsWith('-parkingSpaces')) return 'How many parking spaces do you have exclusive use of?';\n    if (t.endsWith('-preferredRetireAge')) return 'What is your preferred retirement age?';\n\n    if (t.endsWith('-cardNumber')) return 'Payment card number';\n    if (t.endsWith('-cvvNumber')) return 'CVV';\n    if (t.endsWith('-nameOnCard')) return 'Name on card';\n\n    const map = {\n        personalRef: 'Your personal details',\n        spouseRef: 'Your spouse details'\n    };\n    return map[t] || t;\n}\n\nfunction getOptionList (name) {\n    const map = {\n        gender: ['M','F'],\n        country: ['GB','US','CN','BW','AR'],\n        months: ['01','02','03','04','05','06','07','08','09','10','11','12'],\n        languages: ['en','zh','ru','fr']\n    };\n    return map[name] || ['Y','N'];\n}\n\nfunction getOptionDescriptions (name) {\n    const map = {\n        gender: { M: 'Male', F: 'Female'},\n        country: { GB: 'United Kingdom', US: 'United States', CN: 'China', BW: 'Botswana', AR: 'Argentina' },\n        languages: { en: 'English', zh: 'Chinese', ru: 'Russian', fr: 'French' }\n    };\n    return map[name] || {};\n}\n\n// countries with translations\n// https://github.com/umpirsky/country-list/tree/master/data\n","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}